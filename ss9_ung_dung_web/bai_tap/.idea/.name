product _discount_calculator